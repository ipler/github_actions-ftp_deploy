name: Deploy

on:
  push:
    branches: [main]

env:
  FTP_SERVER: 54.83.159.104
  FTP_USERNAME: ubuntu
  SERVER_PATH: /home/ubuntu/project

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
      - name: install lftp
        run: sudo apt-get install lftp -y

      - name: Deploy to Hosting
        uses: SamKirkland/FTP-Deploy-Action@3.0.0
        with:
          ftp-server: ${{ secrets.FTP_SERVER }}
          ftp-username: ${{ secrets.FTP_USERNAME }}
          ftp-password: ${{ secrets.FTP_PASSWORD }}
          local-dir:  ${{ secrets.SERVER_PATH }}     
